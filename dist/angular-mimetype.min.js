/**
 * angular-mimetype - An angular plugin to check the mimetype of a given String/Base64/ArrayBuffer
 * @version v0.0.4
 * @author Matteo Gaggiano <m.gaggiano@marchrius.org> (https://marchrius.org/blog)
 * @link https://marchrius.org/blog
 * @maintainers
 * 
 * @license MIT
 */
!function(){"use strict";angular.module("mg.mimetype",["mg.mimetype.factories","mg.mimetype.filters","mg.mimetype.directives","mg.mimetype.constants"])}(),function(){"use strict";angular.module("mg.mimetype.constants",[])}(),function(){"use strict";angular.module("mg.mimetype.directives",[])}(),function(){"use strict";angular.module("mg.mimetype.factories",["mg.mimetype.utils","mg.mimetype.constants"])}(),function(){"use strict";angular.module("mg.mimetype.filters",["mg.mimetype.factories"])}(),function(){"use strict";angular.module("mg.mimetype.utils",[])}(),function(){"use strict";angular.module("mg.mimetype.constants").constant("fileType",{iVBORw0KGgo:{regex:"^89504E470D0A1A0A",name:"png",type:"image/png",offset:"0"},"/9j/":[{regex:"^FFD8FFDB",name:"jpeg",type:"image/jpeg",offset:"0"},{regex:"^FFD8FFE0[0-9a-fA-F]{4}4A4649460001",name:"jfif",type:"image/jpeg",offset:"0"},{regex:"^FFD8FFE1[0-9a-fA-F]{4}457869660000",name:"exif",type:"image/jpeg",offset:"0"}],JVBERg:{regex:"^25504446",name:"pdf",type:"application/pdf",offset:"0"},R0lGOD:[{regex:"^474946383761",name:"gif",type:"image/gif",offset:"0"},{regex:"^474946383961",name:"gif",type:"image/gif",offset:"0"}],SUkqAA:{regex:"^49492A00",name:"",type:"image/tiff",offset:"0"},TU0AKg:{regex:"^4D4D002A",name:"",type:"image/tiff",offset:"0"},AAABAA:{regex:"^00000100",name:"ico",type:"image/ico",offset:"0"},OEJQUw:{regex:"",name:"psd",type:"",offset:""},f0VMRg:{regex:"^7F454C46",name:"elf",type:"application/x-elf",offset:"0"},UmFyIRoHAA:{regex:"^526172211A0700",name:"rar",type:"application/x-rar-compressed",offset:"0"},UmFyIRoHAQA:{regex:"^526172211A070100",name:"rar",type:"application/x-rar-compressed",offset:"0"}})}(),function(){"use strict";function e(f,m,t){var r={},s=255,u="".toString();function n(e){if(angular.isUndefined(e))return u;var t,r,n=null;for(var i in m)if(f.hop(m,i)&&e.startsWith(i))if(n=m[i],angular.isArray(n)){for(var a=0,o=n.length;a<o;a++)if(t=e.substr(0,s),r=f.base64ToHex(t,!1).toUpperCase(),g(n[a].regex,r))return n[a].type}else if(t=e.substr(0,s),r=f.base64ToHex(t,!1).toUpperCase(),g(n.regex,r))return n.type;return u}function g(e,t){return new RegExp(e).test(t)}return r.fromString=n,r.fromArrayBuffer=function(e){return t=e,n(window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))));var t},r.fromBlob=function(e){return n=e,t(function(e,t){var r=new FileReader;r.addEventListener("error",function(){t(r.error)}),r.addEventListener("loadend",function(){e(r.result)}),r.readAsDataURL(n)});var n},r.fromAuto=function(e){return e instanceof ArrayBuffer?r.fromArrayBuffer(e):e instanceof Blob?r.fromBlob(e):(String,r.fromString(e))},r}e.$inject=["$util","fileType","$q"],angular.module("mg.mimetype.factories").factory("mimeType",e)}(),function(){"use strict";angular.module("mg.mimetype.utils").service("$util",function(){var e={};return e.hexToBase64=function(e){return e=(e=(e=(e=e.replace(/\r|\n/g,"")).replace(/([\da-fA-F]{2}) ?/g,"0x$1 ")).replace(/ +$/,"")).split(" "),e=String.fromCharCode.apply(null,e),window.btoa(e)},e.base64ToHex=function(e,t){t=!!t;for(var r=0,n=window.atob(e.replace(/[ \r\n]+$/,"")),i=[];r<n.length;++r){var a=n.charCodeAt(r).toString(16);1===a.length&&(a="0"+a),i[i.length]=a}return i.join(t?" ":"")},e.hop=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e})}(),function(){"use strict";function e(e){return function(){return e.fromAuto.apply(e,arguments)}}e.$inject=["mimeType"],angular.module("mg.mimetype.filters").filter("mimetype",e)}(),function(u){"use strict";var m=u.split("");void 0===window.atob&&(window.atob=function(e){if(/(=[^=]+|={3,})$/.test(e))throw new Error("String contains an invalid character");var t=3&(e=e.replace(/=/g,"")).length;if(1==t)throw new Error("String contains an invalid character");for(var r=0,n=0,i=e.length/4,a=[];r<i;++r){var o=u.indexOf(e[n++]||"A"),f=u.indexOf(e[n++]||"A"),m=u.indexOf(e[n++]||"A"),s=u.indexOf(e[n++]||"A");if((o|f|m|s)<0)throw new Error("String contains an invalid character");a[a.length]=255&(o<<2|f>>4),a[a.length]=255&(f<<4|m>>2),a[a.length]=255&(m<<6|s)}return String.fromCharCode.apply(null,a).substr(0,a.length+t-4)}),void 0===window.btoa&&(window.btoa=function(e){for(var t=0,r=0,n=e.length/3,i=[];t<n;++t){var a=e.charCodeAt(r++),o=e.charCodeAt(r++),f=e.charCodeAt(r++);if(255<(a|o|f))throw new Error("String contains an invalid character");i[i.length]=m[a>>2]+m[a<<4&63|o>>4]+(isNaN(o)?"=":m[o<<2&63|f>>6])+(isNaN(o+f)?"=":m[63&f])}return i.join("")})}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.indexOf(e)})}();
//# sourceMappingURL=angular-mimetype.min.js.map

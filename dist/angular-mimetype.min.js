if(function(){"use strict";angular.module("mg.mimetype",["mg.mimetype.filters","mg.mimetype.directives","mg.mimetype.constants"])}(),function(){"use strict";angular.module("mg.mimetype.constants",[])}(),function(){"use strict";angular.module("mg.mimetype.directives",[])}(),function(){"use strict";angular.module("mg.mimetype.filters",["mg.mimetype.utils","mg.mimetype.constants"])}(),function(){"use strict";angular.module("mg.mimetype.providers",[])}(),function(){"use strict";angular.module("mg.mimetype.utils",[])}(),function(){"use strict";angular.module("mg.mimetype.constants").constant("fileType",{iVBORw0KGgo:{regex:"^89504E470D0A1A0A",name:"png",type:"image/png",offset:"0"},"/9j/":[{regex:"^FFD8FFDB",name:"jpeg",type:"image/jpeg",offset:"0"},{regex:"^FFD8FFE0[0-9a-fA-F]{4}4A4649460001",name:"jfif",type:"image/jpeg",offset:"0"},{regex:"^FFD8FFE1[0-9a-fA-F]{4}457869660000",name:"exif",type:"image/jpeg",offset:"0"}],JVBERg:{regex:"^25504446",name:"pdf",type:"application/pdf",offset:"0"},R0lGOD:[{regex:"^474946383761",name:"gif",type:"image/gif",offset:"0"},{regex:"^474946383961",name:"gif",type:"image/gif",offset:"0"}],SUkqAA:{regex:"^49492A00",name:"",type:"image/tiff",offset:"0"},TU0AKg:{regex:"^4D4D002A",name:"",type:"image/tiff",offset:"0"},AAABAA:{regex:"^00000100",name:"ico",type:"image/ico",offset:"0"},OEJQUw:{regex:"",name:"psd",type:"",offset:""}})}(),function(){"use strict";angular.module("mg.mimetype.filters").filter("mimetype",["$log","$util","fileType",function(e,t,r){function n(e){if("undefined"==typeof e)return o;var n,f,g,l=null;for(var m in r)if(t.hop(r,m)&&e.startsWith(m))if(l=r[m],angular.isArray(l)){for(var s=0;s<l.length;s++)if(n=e.substr(0,a),f=t.base64ToHex(n,!1).toUpperCase(),g=i(l[s].regex,f))return l[s].type}else if(n=e.substr(0,a),f=t.base64ToHex(n,!1).toUpperCase(),g=i(l.regex,f))return l.type;return o}function i(e,t){return new RegExp(e).test(t)}var a=255,o="".toString();return function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments),t=e[0];return t instanceof ArrayBuffer?fromArrayBuffer(t):t instanceof Blob?fromBlob(t):n(t instanceof String?t:t)}}])}(),function(){"use strict";function e(e){e.debug("mimeTypeProvider initialized.")}angular.module("mg.mimetype.providers").provider("$mimeType",e),e.$inject=["$log"]}(),!window.atob){var tableStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",table=tableStr.split("");window.atob=function(e){if(/(=[^=]+|={3,})$/.test(e))throw new Error("String contains an invalid character");e=e.replace(/=/g,"");var t=3&e.length;if(1===t)throw new Error("String contains an invalid character");for(var r=0,n=0,i=e.length/4,a=[];r<i;++r){var o=tableStr.indexOf(e[n++]||"A"),f=tableStr.indexOf(e[n++]||"A"),g=tableStr.indexOf(e[n++]||"A"),l=tableStr.indexOf(e[n++]||"A");if((o|f|g|l)<0)throw new Error("String contains an invalid character");a[a.length]=255&(o<<2|f>>4),a[a.length]=255&(f<<4|g>>2),a[a.length]=255&(g<<6|l)}return String.fromCharCode.apply(null,a).substr(0,a.length+t-4)},window.btoa=function(e){for(var t=0,r=0,n=e.length/3,i=[];t<n;++t){var a=e.charCodeAt(r++),o=e.charCodeAt(r++),f=e.charCodeAt(r++);if((a|o|f)>255)throw new Error("String contains an invalid character");i[i.length]=table[a>>2]+table[a<<4&63|o>>4]+(isNaN(o)?"=":table[o<<2&63|f>>6])+(isNaN(o+f)?"=":table[63&f])}return i.join("")}}!function(){"use strict";function e(){function e(e){return btoa(String.fromCharCode.apply(null,e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))}function t(e,t){t=!!t;for(var r=0,n=atob(e.replace(/[ \r\n]+$/,"")),i=[];r<n.length;++r){var a=n.charCodeAt(r).toString(16);1===a.length&&(a="0"+a),i[i.length]=a}return i.join(t?" ":"")}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var i={};return i.hexToBase64=e,i.base64ToHex=t,i.hop=r,i.escapeRegExp=n,i}angular.module("mg.mimetype.utils").service("$util",e)}();
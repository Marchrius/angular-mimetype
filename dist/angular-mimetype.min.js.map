{"version":3,"sources":["utils/polyfill/base64.polyfill.js","core.module.js","constants/constants.module.js","directives/directives.module.js","filters/filters.module.js","factories/factories.module.js","utils/utils.module.js","constants/filetype.constant.js","factories/mimetype.factory.js","angular-mimetype.min.js","utils/utils.service.js","filters/mimetype.filter.js","utils/polyfill/string.polyfill.js"],"names":["angular","module","constant","iVBORw0KGgo","regex","name","type","offset","/9j/","JVBERg","R0lGOD","SUkqAA","TU0AKg","AAABAA","OEJQUw","MimeTypeFactory","$util","fileType","fromString","input","isUndefined","EMPTY_STRING","part","hex","res","obj","prop","hop","startsWith","isArray","i","len","length","substr","MAX_LEN","base64ToHex","toUpperCase","test","regStr","compStr","RegExp","toString","str","fromArrayBuffer","arrayBuffer","fromBlob","blob","fromAuto","unknown","ArrayBuffer","Blob","String","factory","$inject","UtilService","hexToBase64","btoa","fromCharCode","apply","replace","split","flag","bin","atob","tmp","charCodeAt","join","key","Object","prototype","hasOwnProperty","call","escapeRegExp","string","service","mimetypeFilter","$mimeType","arguments","filter","window","tableStr","table","base64","Error","n","j","a","indexOf","b","c","d","isNaN","str2","this"],"mappings":";;;;;;;;;AAAA,GCAA,WACA,YAEAA,SAAAC,OAAA,eAAA,wBAAA,sBAAA,yBAAA,6BCHA,WACA,YAEAD,SAAAC,OAAA,+BCHA,WACA,YAEAD,SAAAC,OAAA,gCCHA,WACA,YAEAD,SAAAC,OAAA,uBAAA,6BCHA,WACA,YAEAD,SAAAC,OAAA,yBAAA,oBAAA,6BCHA,WACA,YAEAD,SAAAC,OAAA,2BCHA,WACA,YAEAD,SAAAC,OAAA,yBACAC,SAAA,YAEAC,aACAC,MAAA,oBACAC,KAAA,MACAC,KAAA,YACAC,OAAA,KAEAC,SAGAJ,MAAA,YACAC,KAAA,OACAC,KAAA,aACAC,OAAA,MAIAH,MAAA,sCACAC,KAAA,OACAC,KAAA,aACAC,OAAA,MAIAH,MAAA,sCACAC,KAAA,OACAC,KAAA,aACAC,OAAA,MAIAE,QACAL,MAAA,YACAC,KAAA,MACAC,KAAA,kBACAC,OAAA,KAEAG,SAGAN,MAAA,gBACAC,KAAA,MACAC,KAAA,YACAC,OAAA,MAIAH,MAAA,gBACAC,KAAA,MACAC,KAAA,YACAC,OAAA,MAIAI,QACAP,MAAA,YACAC,KAAA,GACAC,KAAA,aACAC,OAAA,KAGAK,QACAR,MAAA,YACAC,KAAA,GACAC,KAAA,aACAC,OAAA,KAEAM,QACAT,MAAA,YACAC,KAAA,MACAC,KAAA,YACAC,OAAA,KAGAO,QACAV,MAAA,GACAC,KAAA,MACAC,KAAA,GACAC,OAAA,SCnFA,WACA,YAKA,SAAAQ,GAAAC,EAAAC,GA8BA,QAAAC,GAAAC,GACA,GAAAnB,QAAAoB,YAAAD,GACA,MAAAE,EACA,IAEAC,GAAAC,EAAAC,EADAC,EAAA,IAEA,KAAA,GAAAC,KAAAT,GACA,GAAAD,EAAAW,IAAAV,EAAAS,IAAAP,EAAAS,WAAAF,GAEA,GADAD,EAAAR,EAAAS,GACA1B,QAAA6B,QAAAJ,IACA,IAAA,GAAAK,GAAA,EAAAC,EAAAN,EAAAO,OAAAF,EAAAC,EAAAD,IAIA,GAHAR,EAAAH,EAAAc,OAAA,EAAAC,GACAX,EAAAP,EAAAmB,YAAAb,GAAA,GAAAc,cACAZ,EAAAa,EAAAZ,EAAAK,GAAA1B,MAAAmB,GAEA,MAAAE,GAAAK,GAAAxB,SAMA,IAHAgB,EAAAH,EAAAc,OAAA,EAAAC,GACAX,EAAAP,EAAAmB,YAAAb,GAAA,GAAAc,cACAZ,EAAAa,EAAAZ,EAAArB,MAAAmB,GAEA,MAAAE,GAAAnB,IAIA,OAAAe,GAGA,QAAAgB,GAAAC,EAAAC,GACA,MAAA,IAAAC,QAAAF,GAAAD,KAAAE,GA3DA,GAAAxB,MAEAmB,EAAA,IACAb,EAAA,GAAAoB,UA2DA,OAzDA1B,GAAAG,WAAA,SAAAwB,GACA,MAAAxB,GAAAwB,IAGA3B,EAAA4B,gBAAA,SAAAC,GACA,MAAAD,iBAAAC,IAGA7B,EAAA8B,SAAA,SAAAC,GACA,MAAAD,UAAAC,IAGA/B,EAAAgC,SAAA,SAAAC,GACA,MAAAA,aAAAC,aACAN,gBAAAK,GACAA,YAAAE,MACAL,SAAAG,GAEA9B,EADA8B,YAAAG,QACAH,EAEAA,IAqCAjC,EAlEAf,QAAAC,OAAA,yBACAmD,QAAA,WAAArC,GCuMEA,EAAgBsC,SAAW,QAAS,eC3MtC,WACA,YAKA,SAAAC,KAQA,QAAAC,GAAAb,GACA,MAAAc,MAAAL,OAAAM,aAAAC,MAAA,KACAhB,EAAAiB,QAAA,SAAA,IAAAA,QAAA,qBAAA,SAAAA,QAAA,MAAA,IAAAC,MAAA,OAGA,QAAAzB,GAAAO,EAAAmB,GACAA,IAAAA,CACA,KAAA,GAAA/B,GAAA,EAAAgC,EAAAC,KAAArB,EAAAiB,QAAA,YAAA,KAAApC,KAAAO,EAAAgC,EAAA9B,SAAAF,EAAA,CACA,GAAAkC,GAAAF,EAAAG,WAAAnC,GAAAW,SAAA,GACA,KAAAuB,EAAAhC,SAAAgC,EAAA,IAAAA,GACAzC,EAAAA,EAAAS,QAAAgC,EAEA,MAAAzC,GAAA2C,KAAAL,EAAA,IAAA,IAGA,QAAAlC,GAAAF,EAAA0C,GACA,MAAAC,QAAAC,UAAAC,eAAAC,KAAA9C,EAAA0C,GAGA,QAAAK,GAAAC,GACA,MAAAA,GAAAd,QAAA,sBAAA,QA3BA,GAAAe,KA8BA,OA5BAA,GAAAnB,YAAAA,EACAmB,EAAAvC,YAAAA,EACAuC,EAAA/C,IAAAA,EACA+C,EAAAF,aAAAA,EAyBAE,EAlCA1E,QAAAC,OAAA,qBACAyE,QAAA,QAAApB,MCJA,WACA,YAKA,SAAAqB,GAAAC,GACA,MAAA,YACA,MAAAA,GAAA7B,SAAAwB,KAAAK,EAAAC,YALA7E,QAAAC,OAAA,uBACA6E,OAAA,WAAAH,GF6PEA,EAAetB,SAAW,iBTjQ5B0B,OAAAhB,KAAA,CACA,GAAAiB,UAAA,mEACAC,MAAAD,SAAApB,MAAA,GAEAmB,QAAAhB,KAAA,SAAAmB,GACA,GAAA,kBAAA7C,KAAA6C,GAAA,KAAA,IAAAC,OAAA,uCACAD,GAAAA,EAAAvB,QAAA,KAAA,GACA,IAAAyB,GAAA,EAAAF,EAAAlD,MACA,IAAA,IAAAoD,EAAA,KAAA,IAAAD,OAAA,uCACA,KAAA,GAAArD,GAAA,EAAAuD,EAAA,EAAAtD,EAAAmD,EAAAlD,OAAA,EAAA8B,KAAAhC,EAAAC,IAAAD,EAAA,CACA,GAAAwD,GAAAN,SAAAO,QAAAL,EAAAG,MAAA,KACAG,EAAAR,SAAAO,QAAAL,EAAAG,MAAA,KACAI,EAAAT,SAAAO,QAAAL,EAAAG,MAAA,KACAK,EAAAV,SAAAO,QAAAL,EAAAG,MAAA,IACA,KAAAC,EAAAE,EAAAC,EAAAC,GAAA,EAAA,KAAA,IAAAP,OAAA,uCACArB,GAAAA,EAAA9B,QAAA,KAAAsD,GAAA,EAAAE,GAAA,GACA1B,EAAAA,EAAA9B,QAAA,KAAAwD,GAAA,EAAAC,GAAA,GACA3B,EAAAA,EAAA9B,QAAA,KAAAyD,GAAA,EAAAC,GAEA,MAAAvC,QAAAM,aAAAC,MAAA,KAAAI,GAAA7B,OAAA,EAAA6B,EAAA9B,OAAAoD,EAAA,IAGAL,OAAAvB,KAAA,SAAAM,GACA,IAAA,GAAAhC,GAAA,EAAAuD,EAAA,EAAAtD,EAAA+B,EAAA9B,OAAA,EAAAkD,KAAApD,EAAAC,IAAAD,EAAA,CACA,GAAAwD,GAAAxB,EAAAG,WAAAoB,KACAG,EAAA1B,EAAAG,WAAAoB,KACAI,EAAA3B,EAAAG,WAAAoB,IACA,KAAAC,EAAAE,EAAAC,GAAA,IAAA,KAAA,IAAAN,OAAA,uCACAD,GAAAA,EAAAlD,QAAAiD,MAAAK,GAAA,GAAAL,MAAAK,GAAA,EAAA,GAAAE,GAAA,IACAG,MAAAH,GAAA,IAAAP,MAAAO,GAAA,EAAA,GAAAC,GAAA,KACAE,MAAAH,EAAAC,GAAA,IAAAR,MAAA,GAAAQ,IAEA,MAAAP,GAAAhB,KAAA,KYhCAf,OAAAkB,UAAAzC,aACAuB,OAAAkB,UAAAzC,WAAA,SAAAgE,GACA,MAAA,KAAAC,KAAAN,QAAAK","file":"angular-mimetype.min.js","sourcesContent":["if (!window.atob) {\n  var tableStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var table = tableStr.split(\"\");\n\n  window.atob = function(base64) {\n    if (/(=[^=]+|={3,})$/.test(base64)) throw new Error(\"String contains an invalid character\");\n    base64 = base64.replace(/=/g, \"\");\n    var n = base64.length & 3;\n    if (n === 1) throw new Error(\"String contains an invalid character\");\n    for (var i = 0, j = 0, len = base64.length / 4, bin = []; i < len; ++i) {\n      var a = tableStr.indexOf(base64[j++] || \"A\"),\n        b = tableStr.indexOf(base64[j++] || \"A\");\n      var c = tableStr.indexOf(base64[j++] || \"A\"),\n        d = tableStr.indexOf(base64[j++] || \"A\");\n      if ((a | b | c | d) < 0) throw new Error(\"String contains an invalid character\");\n      bin[bin.length] = ((a << 2) | (b >> 4)) & 255;\n      bin[bin.length] = ((b << 4) | (c >> 2)) & 255;\n      bin[bin.length] = ((c << 6) | d) & 255;\n    }\n    return String.fromCharCode.apply(null, bin).substr(0, bin.length + n - 4);\n  };\n\n  window.btoa = function(bin) {\n    for (var i = 0, j = 0, len = bin.length / 3, base64 = []; i < len; ++i) {\n      var a = bin.charCodeAt(j++),\n        b = bin.charCodeAt(j++),\n        c = bin.charCodeAt(j++);\n      if ((a | b | c) > 255) throw new Error(\"String contains an invalid character\");\n      base64[base64.length] = table[a >> 2] + table[((a << 4) & 63) | (b >> 4)] +\n        (isNaN(b) ? \"=\" : table[((b << 2) & 63) | (c >> 6)]) +\n        (isNaN(b + c) ? \"=\" : table[c & 63]);\n    }\n    return base64.join(\"\");\n  };\n\n}","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype', ['mg.mimetype.factories', 'mg.mimetype.filters', 'mg.mimetype.directives', 'mg.mimetype.constants']);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.constants', []);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.directives', []);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.filters', ['mg.mimetype.factories']);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.factories', ['mg.mimetype.utils', 'mg.mimetype.constants']);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.utils', []);\n\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.constants')\n    .constant('fileType', {\n      // .PNG....\n      \"iVBORw0KGgo\": {\n        \"regex\": \"^89504E470D0A1A0A\",\n        \"name\": \"png\",\n        \"type\": \"image/png\",\n        \"offset\": \"0\"\n      },\n      \"/9j/\": [\n        // ÿØÿÛ\n        {\n          \"regex\": \"^FFD8FFDB\",\n          \"name\": \"jpeg\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n        // ÿØÿà ..JF IF..\n        {\n          \"regex\": \"^FFD8FFE0[0-9a-fA-F]{4}4A4649460001\",\n          \"name\": \"jfif\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n        // ÿØÿá ..Ex if..\n        {\n          \"regex\": \"^FFD8FFE1[0-9a-fA-F]{4}457869660000\",\n          \"name\": \"exif\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n      ],\n      // %PDF\n      \"JVBERg\": {\n        \"regex\": \"^25504446\",\n        \"name\": \"pdf\",\n        \"type\": \"application/pdf\",\n        \"offset\": \"0\"\n      },\n      \"R0lGOD\": [\n        // GIF87a\n        {\n          \"regex\": \"^474946383761\",\n          \"name\": \"gif\",\n          \"type\": \"image/gif\",\n          \"offset\": \"0\"\n        },\n        // GIF89a\n        {\n          \"regex\": \"^474946383961\",\n          \"name\": \"gif\",\n          \"type\": \"image/gif\",\n          \"offset\": \"0\"\n        }\n      ],\n      // II*.\n      \"SUkqAA\": {\n        \"regex\": \"^49492A00\",\n        \"name\": \"\",\n        \"type\": \"image/tiff\",\n        \"offset\": \"0\"\n      },\n      // MM.*\n      \"TU0AKg\": {\n        \"regex\": \"^4D4D002A\",\n        \"name\": \"\",\n        \"type\": \"image/tiff\",\n        \"offset\": \"0\"\n      },\n      \"AAABAA\": {\n        \"regex\": \"^00000100\",\n        \"name\": \"ico\",\n        \"type\": \"image/ico\",\n        \"offset\": \"0\"\n      },\n      // 8BPS\n      \"OEJQUw\": {\n        \"regex\": \"\",\n        \"name\": \"psd\",\n        \"type\": \"\",\n        \"offset\": \"\"\n      }\n    });\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.factories')\n    .factory('mimeType', MimeTypeFactory);\n\n  function MimeTypeFactory($util, fileType) {\n    var MimeTypeFactory = {};\n\n    var MAX_LEN = 255;\n    var EMPTY_STRING = \"\".toString();\n\n    MimeTypeFactory.fromString = function(str) {\n      return fromString(str);\n    };\n\n    MimeTypeFactory.fromArrayBuffer = function(arrayBuffer) {\n      return fromArrayBuffer(arrayBuffer);\n    };\n\n    MimeTypeFactory.fromBlob = function(blob) {\n      return fromBlob(blob);\n    };\n\n    MimeTypeFactory.fromAuto = function(unknown) {\n      if (unknown instanceof ArrayBuffer) {\n        return fromArrayBuffer(unknown);\n      } else if (unknown instanceof Blob) {\n        return fromBlob(unknown);\n      } else if (unknown instanceof String) {\n        return fromString(unknown);\n      } else {\n        return fromString(unknown);\n      }\n    };\n\n    function fromString(input) {\n      if (angular.isUndefined(input))\n        return EMPTY_STRING;\n      var found = null,\n        obj = null,\n        part, hex, res;\n      for (var prop in fileType) {\n        if ($util.hop(fileType, prop) && input.startsWith(prop)) {\n          obj = fileType[prop];\n          if (angular.isArray(obj)) {\n            for (var i = 0, len = obj.length; i < len; i++) {\n              part = input.substr(0, MAX_LEN);\n              hex = $util.base64ToHex(part, false).toUpperCase();\n              res = test(obj[i].regex, hex);\n              if (res)\n                return obj[i].type;\n            }\n          } else {\n            part = input.substr(0, MAX_LEN);\n            hex = $util.base64ToHex(part, false).toUpperCase();\n            res = test(obj.regex, hex);\n            if (res)\n              return obj.type;\n          }\n        }\n      }\n      return EMPTY_STRING;\n    }\n\n    function test(regStr, compStr) {\n      return (new RegExp(regStr)).test(compStr);\n    }\n\n    return MimeTypeFactory;\n  }\n\n})();","/**\n * angular-mimetype - An angular plugin to check the mimetype of a given String/Base64/ArrayBuffer\n * @version v0.0.3\n * @author Matteo Gaggiano <m.gaggiano@marchrius.org> (https://marchrius.org/blog)\n * @link https://marchrius.org/blog\n * @maintainers\n * \n * @license MIT\n */\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype', ['mg.mimetype.factories', 'mg.mimetype.filters', 'mg.mimetype.directives', 'mg.mimetype.constants']);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.constants', []);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.directives', []);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.filters', ['mg.mimetype.factories']);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.factories', ['mg.mimetype.utils', 'mg.mimetype.constants']);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.utils', []);\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.constants')\n    .constant('fileType', {\n      // .PNG....\n      \"iVBORw0KGgo\": {\n        \"regex\": \"^89504E470D0A1A0A\",\n        \"name\": \"png\",\n        \"type\": \"image/png\",\n        \"offset\": \"0\"\n      },\n      \"/9j/\": [\n        // ÿØÿÛ\n        {\n          \"regex\": \"^FFD8FFDB\",\n          \"name\": \"jpeg\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n        // ÿØÿà ..JF IF..\n        {\n          \"regex\": \"^FFD8FFE0[0-9a-fA-F]{4}4A4649460001\",\n          \"name\": \"jfif\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n        // ÿØÿá ..Ex if..\n        {\n          \"regex\": \"^FFD8FFE1[0-9a-fA-F]{4}457869660000\",\n          \"name\": \"exif\",\n          \"type\": \"image/jpeg\",\n          \"offset\": \"0\"\n        },\n      ],\n      // %PDF\n      \"JVBERg\": {\n        \"regex\": \"^25504446\",\n        \"name\": \"pdf\",\n        \"type\": \"application/pdf\",\n        \"offset\": \"0\"\n      },\n      \"R0lGOD\": [\n        // GIF87a\n        {\n          \"regex\": \"^474946383761\",\n          \"name\": \"gif\",\n          \"type\": \"image/gif\",\n          \"offset\": \"0\"\n        },\n        // GIF89a\n        {\n          \"regex\": \"^474946383961\",\n          \"name\": \"gif\",\n          \"type\": \"image/gif\",\n          \"offset\": \"0\"\n        }\n      ],\n      // II*.\n      \"SUkqAA\": {\n        \"regex\": \"^49492A00\",\n        \"name\": \"\",\n        \"type\": \"image/tiff\",\n        \"offset\": \"0\"\n      },\n      // MM.*\n      \"TU0AKg\": {\n        \"regex\": \"^4D4D002A\",\n        \"name\": \"\",\n        \"type\": \"image/tiff\",\n        \"offset\": \"0\"\n      },\n      \"AAABAA\": {\n        \"regex\": \"^00000100\",\n        \"name\": \"ico\",\n        \"type\": \"image/ico\",\n        \"offset\": \"0\"\n      },\n      // 8BPS\n      \"OEJQUw\": {\n        \"regex\": \"\",\n        \"name\": \"psd\",\n        \"type\": \"\",\n        \"offset\": \"\"\n      }\n    });\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.factories')\n    .factory('mimeType', MimeTypeFactory);\n\n  function MimeTypeFactory($util, fileType) {\n    var MimeTypeFactory = {};\n\n    var MAX_LEN = 255;\n    var EMPTY_STRING = \"\".toString();\n\n    MimeTypeFactory.fromString = function(str) {\n      return fromString(str);\n    };\n\n    MimeTypeFactory.fromArrayBuffer = function(arrayBuffer) {\n      return fromArrayBuffer(arrayBuffer);\n    };\n\n    MimeTypeFactory.fromBlob = function(blob) {\n      return fromBlob(blob);\n    };\n\n    MimeTypeFactory.fromAuto = function(unknown) {\n      if (unknown instanceof ArrayBuffer) {\n        return fromArrayBuffer(unknown);\n      } else if (unknown instanceof Blob) {\n        return fromBlob(unknown);\n      } else if (unknown instanceof String) {\n        return fromString(unknown);\n      } else {\n        return fromString(unknown);\n      }\n    };\n\n    function fromString(input) {\n      if (angular.isUndefined(input))\n        return EMPTY_STRING;\n      var found = null,\n        obj = null,\n        part, hex, res;\n      for (var prop in fileType) {\n        if ($util.hop(fileType, prop) && input.startsWith(prop)) {\n          obj = fileType[prop];\n          if (angular.isArray(obj)) {\n            for (var i = 0, len = obj.length; i < len; i++) {\n              part = input.substr(0, MAX_LEN);\n              hex = $util.base64ToHex(part, false).toUpperCase();\n              res = test(obj[i].regex, hex);\n              if (res)\n                return obj[i].type;\n            }\n          } else {\n            part = input.substr(0, MAX_LEN);\n            hex = $util.base64ToHex(part, false).toUpperCase();\n            res = test(obj.regex, hex);\n            if (res)\n              return obj.type;\n          }\n        }\n      }\n      return EMPTY_STRING;\n    }\n\n    function test(regStr, compStr) {\n      return (new RegExp(regStr)).test(compStr);\n    }\n\n    return MimeTypeFactory;\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.utils')\n    .service('$util', UtilService);\n\n  function UtilService() {\n    var service = {};\n\n    service.hexToBase64 = hexToBase64;\n    service.base64ToHex = base64ToHex;\n    service.hop = hop;\n    service.escapeRegExp = escapeRegExp;\n\n    function hexToBase64(str) {\n      return btoa(String.fromCharCode.apply(null,\n        str.replace(/\\r|\\n/g, \"\").replace(/([\\da-fA-F]{2}) ?/g, \"0x$1 \").replace(/ +$/, \"\").split(\" \")));\n    }\n\n    function base64ToHex(str, flag) {\n      flag = !!flag;\n      for (var i = 0, bin = atob(str.replace(/[ \\r\\n]+$/, \"\")), hex = []; i < bin.length; ++i) {\n        var tmp = bin.charCodeAt(i).toString(16);\n        if (tmp.length === 1) tmp = \"0\" + tmp;\n        hex[hex.length] = tmp;\n      }\n      return hex.join(flag ? \" \" : \"\");\n    }\n\n    function hop(obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    }\n\n    function escapeRegExp(string) {\n      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n    }\n\n    return service;\n  }\n})();\n(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.filters')\n    .filter('mimetype', mimetypeFilter);\n\n  function mimetypeFilter($mimeType) {\n    return function() {\n      return $mimeType.fromAuto.call($mimeType, arguments);\n    };\n  }\n})();\nif (!window.atob) {\n  var tableStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var table = tableStr.split(\"\");\n\n  window.atob = function(base64) {\n    if (/(=[^=]+|={3,})$/.test(base64)) throw new Error(\"String contains an invalid character\");\n    base64 = base64.replace(/=/g, \"\");\n    var n = base64.length & 3;\n    if (n === 1) throw new Error(\"String contains an invalid character\");\n    for (var i = 0, j = 0, len = base64.length / 4, bin = []; i < len; ++i) {\n      var a = tableStr.indexOf(base64[j++] || \"A\"),\n        b = tableStr.indexOf(base64[j++] || \"A\");\n      var c = tableStr.indexOf(base64[j++] || \"A\"),\n        d = tableStr.indexOf(base64[j++] || \"A\");\n      if ((a | b | c | d) < 0) throw new Error(\"String contains an invalid character\");\n      bin[bin.length] = ((a << 2) | (b >> 4)) & 255;\n      bin[bin.length] = ((b << 4) | (c >> 2)) & 255;\n      bin[bin.length] = ((c << 6) | d) & 255;\n    }\n    return String.fromCharCode.apply(null, bin).substr(0, bin.length + n - 4);\n  };\n\n  window.btoa = function(bin) {\n    for (var i = 0, j = 0, len = bin.length / 3, base64 = []; i < len; ++i) {\n      var a = bin.charCodeAt(j++),\n        b = bin.charCodeAt(j++),\n        c = bin.charCodeAt(j++);\n      if ((a | b | c) > 255) throw new Error(\"String contains an invalid character\");\n      base64[base64.length] = table[a >> 2] + table[((a << 4) & 63) | (b >> 4)] +\n        (isNaN(b) ? \"=\" : table[((b << 2) & 63) | (c >> 6)]) +\n        (isNaN(b + c) ? \"=\" : table[c & 63]);\n    }\n    return base64.join(\"\");\n  };\n\n}\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(str2) {\n    return this.indexOf(str2) === 0;\n  };\n}","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.utils')\n    .service('$util', UtilService);\n\n  function UtilService() {\n    var service = {};\n\n    service.hexToBase64 = hexToBase64;\n    service.base64ToHex = base64ToHex;\n    service.hop = hop;\n    service.escapeRegExp = escapeRegExp;\n\n    function hexToBase64(str) {\n      return btoa(String.fromCharCode.apply(null,\n        str.replace(/\\r|\\n/g, \"\").replace(/([\\da-fA-F]{2}) ?/g, \"0x$1 \").replace(/ +$/, \"\").split(\" \")));\n    }\n\n    function base64ToHex(str, flag) {\n      flag = !!flag;\n      for (var i = 0, bin = atob(str.replace(/[ \\r\\n]+$/, \"\")), hex = []; i < bin.length; ++i) {\n        var tmp = bin.charCodeAt(i).toString(16);\n        if (tmp.length === 1) tmp = \"0\" + tmp;\n        hex[hex.length] = tmp;\n      }\n      return hex.join(flag ? \" \" : \"\");\n    }\n\n    function hop(obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    }\n\n    function escapeRegExp(string) {\n      return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n    }\n\n    return service;\n  }\n})();","(function() {\n  'use strict';\n\n  angular.module('mg.mimetype.filters')\n    .filter('mimetype', mimetypeFilter);\n\n  function mimetypeFilter($mimeType) {\n    return function() {\n      return $mimeType.fromAuto.call($mimeType, arguments);\n    };\n  }\n})();","if (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(str2) {\n    return this.indexOf(str2) === 0;\n  };\n}"]}